\ProvidesPackage{markdownthemewitiko_fithesis}[2021/10/17]
\markdownSetup{
  citations,
  fencedCode,
  footnotes,
  headerAttributes,
  html,
  hybrid,
  inlineFootnotes,
}

%% Margin notes
\RequirePackage{ragged2e}
\setlength{\marginparwidth}{2.75cm}
\markdownSetup{
  renderers = {
    inlineHtmlComment = {%
      \marginpar
        [\footnotesize\RaggedLeft#1]%
        {\footnotesize\RaggedRight#1}%
    },
  },
}
\let\markdownRendererFootnote=\markdownRendererInlineHtmlComment

%% A setup snippet for unnumbered chapters
\markdownSetupSnippet{unnumbered-chapter}{
  renderers = {
    headingOne = {%
      \chapter*{#1}
      \markright{\textsc{#1}}
      \addcontentsline{toc}{chapter}{#1}
    },
  },
}

%% Non-teletype links
\def\markdownRendererLink{%
  \begingroup
  \catcode`\#=12
  \def\next##1##2##3##4{%
    ##1\footnote{%
      \ifx\empty##4\empty\else##4: \fi\href{##3}{{\sffamily\color{thesis@color@secondary}##2}}%
    }%
    \endgroup
  }%
  \next
}

%% Definitions of various Unicode characters
\RequirePackage{newunicodechar}
\newunicodechar{◌}{\dottedcircle}
\newunicodechar{←}{\noindent\ignorespaces}
